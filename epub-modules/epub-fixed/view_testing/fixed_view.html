<!DOCTYPE html>
<html>
    <head>
        <script src="../lib/jquery-1.9.1.js" type="text/javascript"></script>
        <script src="../lib/URI.js" type="text/javascript"></script>
        <script src="../lib/modernizr-2.5.3.min.js" type="text/javascript"></script>
        <script src="../lib/json2.js" type="text/javascript"></script>
        <script src="../lib/underscore.js" type="text/javascript"></script>
        <script src="../lib/backbone.js" type="text/javascript"></script>
        
		<script src="../lib/epub_parser_module.js" type="text/javascript"></script>
        <script src="../lib/epub_module.js" type="text/javascript"></script>
        <script src="../lib/epub_fixed_module.js" type="text/javascript"></script>
        <script src="../lib/epub_reading_system.js" type="text/javascript"></script>
        
		<script src="../lib/SimpleReadium_Dev.js" type="text/javascript"></script>
		
		<script src="initialization_test.js" type="text/javascript"></script>
		
        <script type="text/javascript">

            $(document).ready(function () {

                window.fixedView = initializationTest("fixed");

                var testCallbackForLoad = function () { 
                    console.log("The fixed epub was loaded - the event fired");
                    window.fixedView.showPageByNumber(3);
                };

                window.fixedView.on("contentDocumentLoaded", testCallbackForLoad, this);
                // $("#reader").css({ "height" : "800px", "width" : "1000px"});
                $("#reader").html(window.fixedView.render(false, undefined));
            });
			
            // Note: the epubReadingSystem object may not be ready when directly using the
            // window.onload callback function (from within an (X)HTML5 EPUB3 content document's Javascript code)
            // To address this issue, the recommended code is:
            // -----
            function doSomething() { console.log(navigator.epubReadingSystem); };
            // 
            // // With jQuery:
            // $(document).ready(function () { setTimeout(doSomething, 200); });
            // 
            // // With the window "load" event:
            // window.addEventListener("load", function () { setTimeout(doSomething, 200); }, false);
            // 
            // // With the modern document "DOMContentLoaded" event:
            document.addEventListener("DOMContentLoaded", function(e) { setTimeout(doSomething, 200); }, false);
            // -----
        </script>
    </head>
    <body>
        <div id="reader" style="height:500px; width:1000px;">
        </div>
    </body>
</html>